{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./inst/htmlwidgets/bindings/lfx-search-bindings.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","eventToShiny","e","shinyEvent","latlng","lat","lng","$","isEmptyObject","title","layer","toGeoJSON","LeafletWidget","methods","addSearchOSM","options","map","this","searchControlOSM","removeFrom","textPlaceholder","url","jsonpParam","propertyName","propertyLoc","marker","L","circleMarker","radius","moveToLocation","zoom","maxZoom","getMaxZoom","setView","Control","Search","addTo","on","HTMLWidgets","shinyMode","Shiny","onInputChange","id","removeSearchOSM","addReverseSearchOSM","group","layerManager","clearGroup","displayControl","document","getElementById","container","featureGroup","layerID","stamp","showSearchLocation","type","bindTooltip","addLayer","query","searchURL","ajax","dataType","done","result","displayText","display_name","innerHTML","bb","latLngBounds","latLng","boundingbox","showBounds","rect","rectangle","weight","color","clickable","dashArray","showFeature","feature","geoJson","geojson","pointToLayer","tmp","getLayers","length","setStyle","fillOpacity","opacity","bringToFront","bringToBack","fitBounds","getBounds","addSearchGoogle","searchControlGoogle","geocoder","google","maps","Geocoder","markerLocation","sourceData","text","callResponse","geocode","address","formatData","rawjson","key","loc","json","formatted_address","geometry","location","removeSearchGoogle","addReverseSearchGoogle","results","status","viewport","f","b","console","error","addSearchUSCensusBureau","searchControlUSCensusBureau","addressMatches","matchedAddress","coordinates","y","x","removeSearchUSCensusBureau","addSearchFeatures","targetGroups","searchFeatureGroup","searchControl","Util","isArray","getLayerGroup","_searchFeatureGroupName","each","k","v","target","warn","openPopup","_popup","removeSearchFeatures","clearFeatures"],"mappings":"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","file":"lfx-search-bindings.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* global $, LeafletWidget, L, Shiny, HTMLWidgets, google */\n\n// helper function to conver JS event to Shiny Event\nfunction eventToShiny(e) {\n  var shinyEvent = {};\n  shinyEvent.latlng = {};\n  shinyEvent.latlng.lat = e.latlng.lat;\n  shinyEvent.latlng.lng = e.latlng.lng;\n  if(!$.isEmptyObject(e.title)) {\n    shinyEvent.title = e.title;\n  }\n  if(!$.isEmptyObject(e.layer)) {\n    shinyEvent.layer = e.layer.toGeoJSON();\n  }\n  return shinyEvent;\n}\n\nLeafletWidget.methods.addSearchOSM = function(options) {\n\n  (function(){\n    var map = this;\n\n    if(map.searchControlOSM) {\n      map.searchControlOSM.removeFrom(map);\n      delete map.searchControlOSM;\n    }\n\n    options = options || {};\n    options.textPlaceholder = 'Search using OSM Geocoder';\n    options.url = 'https://nominatim.openstreetmap.org/search?format=json&q={s}';\n    options.jsonpParam = 'json_callback';\n    options.propertyName = 'display_name';\n    options.propertyLoc = ['lat','lon'];\n\n    // https://github.com/stefanocudini/leaflet-search/issues/129\n    options.marker = L.circleMarker([0,0],{radius:30});\n\n    if(options.moveToLocation) {\n      options.moveToLocation = function(latlng, title, map) {\n        var zoom = options.zoom || 16;\n        var maxZoom = map.getMaxZoom();\n        if(maxZoom && zoom > maxZoom) {\n          zoom = maxZoom;\n        }\n        map.setView(latlng, zoom);\n      };\n    }\n\n    map.searchControlOSM = new L.Control.Search(options);\n    map.searchControlOSM.addTo(map);\n\n    map.searchControlOSM.on('search:locationfound', function(e){\n      // Shiny stuff\n      if (!HTMLWidgets.shinyMode) return;\n      Shiny.onInputChange(map.id+'_search_location_found', eventToShiny(e));\n    });\n\n  }).call(this);\n};\n\nLeafletWidget.methods.removeSearchOSM = function() {\n  (function(){\n\n    var map = this;\n\n    if(map.searchControlOSM) {\n      map.searchControlOSM.removeFrom(map);\n      delete map.searchControlOSM;\n    }\n  }).call(this);\n};\n\nLeafletWidget.methods.addReverseSearchOSM = function(options, group) {\n  (function() {\n\n    var map = this;\n\n    group = group || 'reverse_search_osm' ;\n    map.layerManager.clearGroup(group);\n\n    var displayControl = document.getElementById('reverseSearchOSM');\n\n    var searchURL = 'https://nominatim.openstreetmap.org/reverse?format=json&polygon_geojson=1';\n\n    map.on('click', function(e){\n\n      var latlng = e.latlng;\n\n      // This will hold the query, boundingbox, and found feature layers\n      var container = L.featureGroup();\n      var layerID = L.stamp(container);\n\n      if(options.showSearchLocation) {\n        var marker = L.marker(e.latlng,{'type': 'query'}).bindTooltip(\n          'lat='+latlng.lat+' lng='+latlng.lng+'</P>');\n        /* eslint-disable no-unused-vars */\n        var m_layerID = L.stamp(marker);\n        /* eslint-enable no-unused-vars */\n        container.addLayer(marker);\n      }\n\n      var query = searchURL + '&lat=' + latlng.lat + '&lon=' + latlng.lng;\n\n      $.ajax({url: query, dataType: 'json'}).done(function(result){\n\n        if(!$.isEmptyObject(displayControl)) {\n          var displayText = '<div>';\n          displayText = displayText + 'Display Name: ' +\n            ( (result.display_name) ?  result.display_name : '' ) + '<br/>';\n          displayText =  displayText + '</div>';\n          displayControl.innerHTML = displayText;\n        }\n\n        var bb = L.latLngBounds(\n          L.latLng(result.boundingbox[0],result.boundingbox[2]),\n          L.latLng(result.boundingbox[1], result.boundingbox[3]));\n\n        if(options.showBounds) {\n          var rect = L.rectangle(bb, {\n            weight:2, color: '#444444', clickable: false,\n            dashArray: '5,10', 'type': 'result_boundingbox'});\n          /* eslint-disable no-unused-vars */\n          var bb_layerID = L.stamp(rect);\n          /* eslint-enable no-unused-vars */\n          container.addLayer(rect);\n        }\n\n        if(options.showFeature) {\n          var feature = L.geoJson(result.geojson,\n            {\n              weight:2, color: 'red', dashArray: '5,10',\n              clickable : false, 'type': 'result_feature',\n              pointToLayer: function(feature, latlng) {\n                return L.circleMarker(latlng,{\n                  weight:2, color: 'red', dashArray: '5,10', clickable : false});\n              }\n            });\n\n          /* eslint-disable no-unused-vars */\n          var f_layerID = L.stamp(feature);\n          /* eslint-enable no-unused-vars */\n          container.addLayer(feature);\n        }\n\n        var tmp = container.getLayers();\n        if(!$.isEmptyObject(tmp) && tmp.length >= 0) {\n\n          if(!$.isEmptyObject(marker)) {\n            marker.on('mouseover', function(e){\n              if(!$.isEmptyObject(rect)) {\n                rect.setStyle({fillOpacity: 0.5, opacity: 0.8, weight: 5});\n                rect.bringToFront();\n              }\n              if(!$.isEmptyObject(feature)) {\n                feature.setStyle({fillOpacity: 0.5, opacity: 0.8, weight: 5});\n                feature.bringToFront();\n              }\n            });\n            marker.on('mouseout', function(e){\n              if(!$.isEmptyObject(rect)) {\n                rect.setStyle({fillOpacity: 0.2, opacity: 0.5, weight: 2});\n                rect.bringToBack();\n              }\n              if(!$.isEmptyObject(feature)) {\n                feature.setStyle({fillOpacity: 0.2, opacity: 0.5, weight: 2});\n                feature.bringToBack();\n              }\n            });\n          }\n\n          map.layerManager.addLayer(container, 'search', layerID, group);\n          if(options.fitBounds)\n            map.fitBounds(container.getBounds());\n        }\n\n        if (HTMLWidgets.shinyMode) {\n          Shiny.onInputChange(map.id+'_reverse_search_feature_found',{\n            'query': {'lat': latlng.lat, 'lng': latlng.lng},\n            'result': result\n          });\n        }\n\n      });\n    });\n\n  }).call(this);\n};\n\nLeafletWidget.methods.addSearchGoogle = function(options) {\n\n  (function(){\n    var map = this;\n\n    if(map.searchControlGoogle) {\n      map.searchControlGoogle.removeFrom(map);\n      delete map.searchControlGoogle;\n    }\n\n    var geocoder = new google.maps.Geocoder();\n\n    function googleGeocoding(text, callResponse) {\n      geocoder.geocode({address: text}, callResponse);\n    }\n\n    function formatJSON(rawjson) {\n      var json = {},\n        key, loc;\n\n      for(var i in rawjson) {\n        key = rawjson[i].formatted_address;\n        loc = L.latLng( rawjson[i].geometry.location.lat(), rawjson[i].geometry.location.lng() );\n        json[ key ]= loc; //key,value format\n      }\n      return json;\n    }\n\n    options = options || {};\n    options.markerLocation = true;\n    options.textPlaceholder = 'Search using Google Geocoder';\n\n    // https://github.com/stefanocudini/leaflet-search/issues/129\n    options.marker = L.circleMarker([0,0],{radius:30});\n\n    if(options.moveToLocation) {\n      options.moveToLocation = function(latlng, title, map) {\n        var zoom = options.zoom || 16;\n        var maxZoom = map.getMaxZoom();\n        if(maxZoom && zoom > maxZoom) {\n          zoom = maxZoom;\n        }\n        map.setView(latlng, zoom);\n      };\n    }\n\n    options.sourceData = googleGeocoding;\n    options.formatData = formatJSON;\n\n    map.searchControlGoogle = new L.Control.Search(options);\n    map.searchControlGoogle.addTo(map);\n\n    map.searchControlGoogle.on('search:locationfound', function(e){\n      // Shiny stuff\n      if (!HTMLWidgets.shinyMode) return;\n      Shiny.onInputChange(map.id+'_search_location_found', eventToShiny(e));\n    });\n\n  }).call(this);\n};\n\nLeafletWidget.methods.removeSearchGoogle = function() {\n  (function(){\n\n    var map = this;\n\n    if(map.searchControlGoogle) {\n      map.searchControlGoogle.removeFrom(map);\n      delete map.searchControlGoogle;\n    }\n  }).call(this);\n};\n\nLeafletWidget.methods.addReverseSearchGoogle = function(options, group) {\n  (function() {\n\n    var map = this;\n\n    group = group || 'reverse_search_google' ;\n    map.layerManager.clearGroup(group);\n\n    var displayControl = document.getElementById('reverseSearchGoogle');\n\n    var geocoder = new google.maps.Geocoder();\n\n    map.on('click', function(e){\n\n      var latlng = e.latlng;\n\n      // This will hold the query, boundingbox, and found feature layers\n      var container = L.featureGroup();\n      var layerID = L.stamp(container);\n\n      if(options.showSearchLocation) {\n        var marker = L.marker(e.latlng,{'type': 'query'}).bindTooltip(\n          'lat='+latlng.lat+' lng='+latlng.lng+'</P>');\n        /* eslint-disable no-unused-vars */\n        var m_layerID = L.stamp(marker);\n        /* eslint-enable no-unused-vars */\n        container.addLayer(marker);\n      }\n\n      geocoder.geocode(\n        {'location': {'lat': latlng.lat, 'lng': latlng.lng}},\n        function(results, status) {\n\n          if(status === 'OK') {\n            if(results[0]) {\n              var result = results[0];\n\n              if(!$.isEmptyObject(displayControl)) {\n                var displayText = '<div>';\n                displayText = displayText + 'Address: ' +\n                  ( (result.formatted_address) ?  result.formatted_address : '' ) + '<br/>';\n                displayText =  displayText + '</div>';\n                displayControl.innerHTML = displayText;\n              }\n\n              var bb = L.latLngBounds(\n                L.latLng(result.geometry.viewport.f.f,\n                  result.geometry.viewport.b.b),\n                L.latLng(result.geometry.viewport.f.b,\n                  result.geometry.viewport.b.f));\n\n              if(options.showBounds) {\n                var rect = L.rectangle(bb, {\n                  weight:2, color: '#444444', clickable: false,\n                  dashArray: '5,10', 'type': 'result_boundingbox'});\n                /* eslint-disable no-unused-vars */\n                var bb_layerID = L.stamp(rect);\n                /* eslint-enable no-unused-vars */\n                container.addLayer(rect);\n              }\n\n              if(options.showFeature) {\n                var feature = L.circleMarker(\n                  L.latLng(\n                    result.geometry.location.lat(),\n                    result.geometry.location.lng()\n                  ), {\n                    weight:2, color: 'red', dashArray: '5,10',\n                    clickable : false, 'type': 'result_feature'\n                  }\n                );\n\n                /* eslint-disable no-unused-vars */\n                var f_layerID = L.stamp(feature);\n                /* eslint-disable no-unused-vars */\n                container.addLayer(feature);\n              }\n\n              var tmp = container.getLayers();\n              if(!$.isEmptyObject(tmp) && tmp.length >= 0) {\n\n                if(!$.isEmptyObject(marker)) {\n                  marker.on('mouseover', function(e){\n                    if(!$.isEmptyObject(rect)) {\n                      rect.setStyle({fillOpacity: 0.5, opacity: 0.8, weight: 5});\n                      rect.bringToFront();\n                    }\n                    if(!$.isEmptyObject(feature)) {\n                      feature.setStyle({fillOpacity: 0.5, opacity: 0.8, weight: 5});\n                      feature.bringToFront();\n                    }\n                  });\n                  marker.on('mouseout', function(e){\n                    if(!$.isEmptyObject(rect)) {\n                      rect.setStyle({fillOpacity: 0.2, opacity: 0.5, weight: 2});\n                      rect.bringToBack();\n                    }\n                    if(!$.isEmptyObject(feature)) {\n                      feature.setStyle({fillOpacity: 0.2, opacity: 0.5, weight: 2});\n                      feature.bringToBack();\n                    }\n                  });\n                }\n\n                map.layerManager.addLayer(container, 'search', layerID, group);\n                if(options.fitBounds)\n                  map.fitBounds(container.getBounds());\n              }\n\n              if (HTMLWidgets.shinyMode) {\n                Shiny.onInputChange(map.id+'_reverse_search_feature_found',{\n                  'query': {'lat': latlng.lat, 'lng': latlng.lng},\n                  'result': result\n                });\n              }\n            } else {\n              if(!$.isEmptyObject(displayControl))\n                displayControl.innerHTML = 'No Results Found';\n              /* eslint-disable no-console */\n              console.error('No Results Found');\n              /* eslint-enable no-console */\n            }\n          } else {\n            if(!$.isEmptyObject(displayControl))\n              displayControl.innerHTML = 'Reverse Geocoding failed due to: ' + status;\n            /* eslint-disable no-console */\n            console.error('Reverse Geocoing failed due to: ' + status);\n            /* eslint-enable no-console */\n          }\n        }\n      );\n    });\n  }).call(this);\n};\n\n\nLeafletWidget.methods.addSearchUSCensusBureau = function(options) {\n\n  (function(){\n    var map = this;\n\n    if(map.searchControlUSCensusBureau) {\n      map.searchControlUSCensusBureau.removeFrom(map);\n      delete map.searchControlUSCensusBureau;\n    }\n\n    function formatJSON(rawjson) {\n      var json = {}, key, loc;\n\n      for (var i in rawjson.result.addressMatches) {\n        key = rawjson.result.addressMatches[i].matchedAddress;\n        loc = L.latLng(rawjson.result.addressMatches[i].coordinates.y, rawjson.result.addressMatches[i].coordinates.x);\n        json[key] = loc; //key,value format\n      }\n      return json;\n    }\n\n    options = options || {};\n\n    options.url = 'https://geocoding.geo.census.gov/geocoder/locations/onelineaddress?benchmark=Public_AR_Current&format=jsonp&address={s}';\n    options.textPlaceholder = 'Search using US Census Bureau';\n    options.jsonpParam = 'callback';\n    options.formatData = formatJSON;\n\n    // https://github.com/stefanocudini/leaflet-search/issues/129\n    options.marker = L.circleMarker([0,0],{radius:30});\n\n    if(options.moveToLocation) {\n      options.moveToLocation = function(latlng, title, map) {\n        var zoom = options.zoom || 16;\n        var maxZoom = map.getMaxZoom();\n        if(maxZoom && zoom > maxZoom) {\n          zoom = maxZoom;\n        }\n        map.setView(latlng, zoom);\n      };\n    }\n\n    map.searchControlUSCensusBureau = new L.Control.Search(options);\n    map.searchControlUSCensusBureau.addTo(map);\n\n    map.searchControlUSCensusBureau.on('search:locationfound', function(e){\n      // Shiny stuff\n      if (!HTMLWidgets.shinyMode) return;\n      Shiny.onInputChange(map.id+'_search_location_found', eventToShiny(e));\n    });\n\n  }).call(this);\n};\n\nLeafletWidget.methods.removeSearchUSCensusBureau = function() {\n  (function(){\n\n    var map = this;\n\n    if(map.searchControlUSCensusBureau) {\n      map.searchControlUSCensusBureau.removeFrom(map);\n      delete map.searchControlUSCensusBureau;\n    }\n  }).call(this);\n};\n\n\nLeafletWidget.methods.addSearchFeatures = function(targetGroups, options){\n\n  (function(){\n    var map = this;\n\n    if(map.searchControl) {\n      map.searchControl.removeFrom(map);\n      delete map.searchControl;\n    }\n\n    options = options || {};\n\n    if(options.moveToLocation) {\n      options.moveToLocation = function(latlng, title, map) {\n        var zoom = options.zoom || 16;\n        var maxZoom = map.getMaxZoom();\n        if(maxZoom && zoom > maxZoom) {\n          zoom = maxZoom;\n        }\n        map.setView(latlng, zoom);\n      };\n    }\n\n    // FeatureGroup that will be searched\n    var searchFeatureGroup;\n\n    // if we have just one group to search use it.\n    if(!L.Util.isArray(targetGroups)) {\n      var target = map.layerManager.getLayerGroup(targetGroups, false);\n      if(target) {\n        searchFeatureGroup = target;\n        map._searchFeatureGroupName = targetGroups;\n      } else {\n        // throw an error if we can't find the target FeatureGroup layer\n        throw 'Group with ID \"'+targetGroups+'\" not found';\n      }\n    } else { // if we have more than one groups to search create a new seach group with them.\n\n      searchFeatureGroup = map.layerManager.getLayerGroup('search', true);\n      map._searchFeatureGroupName = 'search';\n\n      $.each(targetGroups, function(k, v) {\n        var target = map.layerManager.getLayerGroup(v, false);\n        // may be remove target from map before adding to searchFeatureGroup\n        if(target) {\n          searchFeatureGroup.addLayer(target);\n        } else {\n          /* eslint-disable no-console */\n          console.warn('Group with ID \"' + v + '\" not Found, skipping');\n          /* eslint-enable no-console */\n        }\n      });\n    }\n\n    L.stamp(searchFeatureGroup);\n    options.layer = searchFeatureGroup;\n    map.searchControl = new L.Control.Search(options);\n    map.searchControl.addTo(map);\n\n    map.searchControl.on('search:locationfound', function(e){\n      if(options.openPopup && e.layer._popup) {\n        e.layer.openPopup();\n      }\n      // Shiny stuff\n      if (!HTMLWidgets.shinyMode) return;\n      Shiny.onInputChange(map.id+'_search_location_found', eventToShiny(e));\n    });\n\n  }).call(this);\n};\n\nLeafletWidget.methods.removeSearchFeatures = function(clearFeatures) {\n  (function(){\n\n    var map = this;\n\n    if(map.searchControl) {\n      map.searchControl.removeFrom(map);\n      delete map.searchControl;\n    }\n    if(clearFeatures && map._searchFeatureGroupName) {\n      map.layerManager.clearGroup(map._searchFeatureGroupName);\n      delete map._searchFeatureGroupName ;\n    }\n  }).call(this);\n\n};\n"],"sourceRoot":""}